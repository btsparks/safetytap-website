---
const currentPath = Astro.url.pathname;
---

<header>
  <nav id="main-nav"
       class="fixed top-0 left-0 right-0 z-50 transition-all duration-300
              py-4 px-6 bg-navy
              [&.scrolled]:bg-navy/95 [&.scrolled]:backdrop-blur-md
              [&.scrolled]:border-b [&.scrolled]:border-white/10
              [&.scrolled]:shadow-lg">
    <div class="max-w-6xl mx-auto flex items-center justify-between">
      <a href="/" class="block">
        <img src="/logo-dark.svg" alt="SafetyTAP" style="height: 36px; width: auto;" />
      </a>
      <div class="flex items-center gap-8">
        <a href="/blog" class:list={["text-sm text-white/80 hover:text-teal transition-colors", { 'text-teal': currentPath.startsWith('/blog') }]}>Insights</a>
        <a href="/about" class:list={["text-sm text-white/80 hover:text-teal transition-colors", { 'text-teal': currentPath === '/about' }]}>About</a>
        <!-- Step 6: CTA "Talk to Us" → "Request a Demo" — specific action per skill file -->
        <a href="/contact"
           class="bg-teal hover:bg-teal-light text-white font-semibold
                  text-sm px-5 py-2.5 rounded-lg
                  shadow-sm shadow-teal/20
                  transition-all duration-200 hover:-translate-y-0.5 hover:shadow-md hover:shadow-teal/30">
          Request a Demo
        </a>
      </div>
    </div>
  </nav>
  <!-- Spacer to account for fixed nav -->
  <div class="h-16"></div>
</header>

<script>
  const nav = document.getElementById('main-nav');
  window.addEventListener('scroll', () => {
    nav?.classList.toggle('scrolled', window.scrollY > 40);
  });
</script>
